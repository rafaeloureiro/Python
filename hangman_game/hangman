import random
import string

# --- 1. Load words ---
WORDS = ["python", "developer", "cannabis", "screen", "work", "internet", "science", "sea", "soccer", "drive"]

# --- 2. Functions ---

def init_game():
    """Inicializa o estado do jogo."""
    word = random.choice(WORDS).lower()
    discovered = ["_" for _ in word]
    attempts_left = 6
    attempted_letters = []
    return word, discovered, attempts_left, attempted_letters

def display_state(discovered, attempts_left, attempted_letters):
    """Exibe o estado atual do jogo."""
    print("\nWord: ", " ".join(discovered))
    print("Attempts left:", attempts_left)
    print("Letters already tried:", ", ".join(attempted_letters) if attempted_letters else "None")

def process_guess(guess, word, discovered, attempts_left, attempted_letters):
    """Processa o chute do usu√°rio e atualiza o estado."""
    if len(guess) != 1 or guess not in string.ascii_lowercase:
        print("‚ùå Invalid input, enter only one letter (a-z).")
    elif guess in attempted_letters:
        print("‚ö†Ô∏è You've already attempted this letter.")
    else:
        attempted_letters.append(guess)
        if guess in word:
            for i, letter in enumerate(word):
                if letter == guess:
                    discovered[i] = guess
            print(f"‚úÖ Good attempt! '{guess}' is in the word.")
        else:
            attempts_left -= 1
            print(f"‚ùå Oh no! '{guess}' is not in the word.")
    return discovered, attempts_left, attempted_letters

def check_game_over(word, discovered, attempts_left):
    """Verifica se o jogo terminou."""
    if "_" not in discovered:
        print(f"\nüéâ Congratulations! You won! The word was: {word}")
        return True
    elif attempts_left <= 0:
        print(f"\nüíÄ Game Over! You lost. The word was: {word}")
        return True
    return False

# --- 3. Main Game Loop ---

def play_game():
    word, discovered, attempts_left, attempted_letters = init_game()
    game_over = False

    while not game_over:
        display_state(discovered, attempts_left, attempted_letters)
        guess = input("Enter a letter (a-z): ").lower()
        discovered, attempts_left, attempted_letters = process_guess(
            guess, word, discovered, attempts_left, attempted_letters
        )
        game_over = check_game_over(word, discovered, attempts_left)

    # Pergunta se o usu√°rio quer jogar novamente
    play_again = input("\nDo you want to play again? (y/n): ").lower()
    if play_again == "y":
        play_game()
    else:
        print("Thanks for playing! üëã")

# --- 4. Start the game ---
if __name__ == "__main__":
    play_game()

